{"mappings":"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","sources":["src/parcel/index.ts","src/lib/index.ts","src/lib/match-route.ts","src/web/router.ts","src/parcel/nav-view.ts"],"sourcesContent":["import lib from '../lib/index.js';\nimport matchRoute, { MatchRouteResult } from '../lib/match-route.js';\n\nimport Router from '../web/router.js';\n\nimport './nav-view.js';\n\nconst HOME_HASH = '#/';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tlib('PARCEL');\n\n\tlet lastHash: string | null = null;\n\n\tRouter.route = function (data: any, event?: PopStateEvent): any {\n\t\tconst hash = window.location.hash;\n\t\tif (lastHash === hash) {\n\t\t\treturn;\n\t\t}\n\n\t\t// NO HASH CHECK\n\t\tif (hash[0] !== '#') {\n\t\t\treturn void Router.replaceState(null, HOME_HASH);\n\t\t}\n\n\t\t// BOOKMARK CHECK\n\t\tif (hash[1] !== '/') {\n\t\t\tif (lastHash === null) {\n\t\t\t\treturn void Router.pushState(null, HOME_HASH);\n\t\t\t}\n\t\t\treturn void Router.replaceState(null, lastHash, false);\n\t\t}\n\n\t\tlastHash = hash;\n\n\t\tlet match: MatchRouteResult = null;\n\t\tswitch (true) {\n\t\t\tcase !!(match = matchRoute('#/', hash)):\n\t\t\t\tconsole.group('HOME');\n\t\t\t\tconsole.log('MATCH', match);\n\t\t\t\tconsole.groupEnd();\n\t\t\t\tbreak;\n\n\t\t\tcase !!(match = matchRoute('#/page/**/:subpage/', hash) ?? matchRoute('#/page/', hash)):\n\t\t\t\tconsole.group('PAGE');\n\t\t\t\tconsole.log('MATCH', match);\n\t\t\t\tconsole.groupEnd();\n\t\t\t\tbreak;\n\n\t\t\tcase !!(match = matchRoute('#/redirect/', hash)):\n\t\t\t\tconsole.group('REDIRECT');\n\t\t\t\tconsole.log('MATCH', match);\n\t\t\t\tconsole.groupEnd();\n\t\t\t\tRouter.replaceState(null, '#/page/redirect/redirectpage/');\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.log('404');\n\t\t}\n\t}\n\n\tRouter.start();\n});\n","export default function lib(message: string) {\n\tconsole.log(message);\n}\n\nlib('LIB');\n","export type MatchRouteResult = { data: Record<string, string>, query: string } | null;\n\nexport default function matchRoute(pattern: string, fullPath: string): MatchRouteResult {\n\tconst patternSegments = pattern.split('/');\n\n\tconst [path, query] = fullPath.split('?');\n\tconst pathSegments = path.split('/');\n\n\tconst match = matchSegments(patternSegments, pathSegments, false);\n\tif (match === null) {\n\t\treturn null;\n\t}\n\n\tconst { firstMatch } = match;\n\tif (firstMatch.index !== 0 || firstMatch.length !== pathSegments.length) {\n\t\treturn null;\n\t}\n\n\tconst { data } = firstMatch;\n\treturn { data, query };\n}\n\ninterface SegmentMatch {\n\tindex: number,\n\tlength: number,\n\tdata: Record<string, string>\n}\n\nfunction matchSegments(patternSegments: string[], pathSegments: string[], greedy = true): { firstMatch: SegmentMatch, lastMatch: SegmentMatch } | null {\n\tif (patternSegments.length === 0) {\n\t\tif (pathSegments.length === 0) {\n\t\t\treturn {\n\t\t\t\tfirstMatch: { index: 0, length: 0, data: {} },\n\t\t\t\tlastMatch: { index: 0, length: 0, data: {} },\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tconst patternSegment = patternSegments[0];\n\tconst remainingPatternSegments = patternSegments.slice(1);\n\n\tconst firstMatch: SegmentMatch = { index: -1, length: 0, data: {} };\n\tconst lastMatch: SegmentMatch = { index: -1, length: 0, data: {} };\n\n\tfor (let index = 0, length = pathSegments.length; index < length; index++) {\n\t\tconst pathSegment = pathSegments[index];\n\n\t\tif (patternSegment !== '**' && patternSegment !== '*' && patternSegment[0] !== ':' && patternSegment !== pathSegment) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (patternSegment === '**') {\n\t\t\tconst remainingPathSegments = pathSegments.slice(index);\n\t\t\tconst match = matchSegments(remainingPatternSegments, remainingPathSegments);\n\t\t\tif (match === null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlastMatch.index = index;\n\t\t\tlastMatch.length = match.lastMatch.length + match.lastMatch.index;\n\t\t\tlastMatch.data = match.lastMatch.data;\n\n\t\t\tif (firstMatch.index === -1) {\n\t\t\t\tfirstMatch.index = index;\n\t\t\t\tfirstMatch.length = match.lastMatch.length + match.lastMatch.index;\n\t\t\t\tfirstMatch.data = match.lastMatch.data;\n\n\t\t\t\tif (!greedy) {\n\t\t\t\t\treturn { firstMatch, lastMatch };\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst remainingPathSegments = pathSegments.slice(index + 1);\n\t\tconst match = matchSegments(remainingPatternSegments, remainingPathSegments, false);\n\t\tif (match === null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (match.firstMatch.index !== 0) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst data: Record<string, string> = {};\n\t\tif (patternSegment[0] === ':') {\n\t\t\tconst key = patternSegment.slice(1);\n\t\t\tdata[key] = pathSegment;\n\t\t}\n\n\t\tlastMatch.index = index;\n\t\tlastMatch.length = match.firstMatch.length + 1;\n\t\tlastMatch.data = { ...data, ...match.firstMatch.data };\n\n\t\tif (firstMatch.index === -1) {\n\t\t\tfirstMatch.index = index;\n\t\t\tfirstMatch.length = match.firstMatch.length + 1;\n\t\t\tfirstMatch.data = { ...data, ...match.firstMatch.data };\n\n\t\t\tif (!greedy) {\n\t\t\t\treturn { firstMatch, lastMatch };\n\t\t\t}\n\t\t}\n\t}\n\n\tif (firstMatch.index === -1) {\n\t\treturn null;\n\t}\n\n\treturn { firstMatch, lastMatch };\n}\n","function eventHandler(event: PopStateEvent): any {\n\treturn Router.route(null, event);\n}\n\nlet hasStarted = false;\n\nconst Router = {\n\troute(data: any, event?: PopStateEvent): any {\n\t\tthrow new Error('route requires implementation');\n\t},\n\n\tstart(trigger = true) {\n\t\twindow.addEventListener('popstate', eventHandler);\n\t\thasStarted = true;\n\n\t\tif (trigger) {\n\t\t\tthis.route(null);\n\t\t}\n\t},\n\n\tpushState(data: any, url?: string | URL | null, trigger = true): void {\n\t\tif (!hasStarted) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.history.pushState(data, '', url);\n\n\t\tif (trigger) {\n\t\t\tthis.route(data);\n\t\t}\n\t},\n\n\treplaceState(data: any, url?: string | URL | null, trigger = true): void {\n\t\tif (!hasStarted) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.history.replaceState(data, '', url);\n\n\t\tif (trigger) {\n\t\t\tthis.route(data);\n\t\t}\n\t},\n\n\tstop() {\n\t\tif (!hasStarted) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.removeEventListener('popstate', eventHandler);\n\t\thasStarted = false;\n\t},\n};\n\nexport default Router;\n","// == TEMPLATE ==\n\nconst templateEl: HTMLTemplateElement = document.createElement('template');\ntemplateEl.innerHTML = `\n\t<p>\n\t\t<a class=\"btn btn-light\" href=\"#/\">Home</a>\n\t\t<a class=\"btn btn-light\" href=\"#/page/\">Page</a>\n\t\t<a class=\"btn btn-light\" href=\"#/page/subpage/\">Sub Page</a>\n\t\t<a class=\"btn btn-light\" href=\"#/redirect/\">Redirect</a>\n\t\t<a class=\"btn btn-light\" href=\"#/404/\">404</a>\n\t</p>\n`;\n\n// == CLASS ==\n\nclass NavView extends HTMLElement {\n\n\t// -- STATIC --\n\n\t// PROPERTY(IES)\n\n\tstatic observedAttributes: string[] = ['querystring'];\n\n\t// -- PRIVATE --\n\n\t// PROPERTY(IES)\n\n\t#eventListeners: Record<string, (event: Event) => any> = {\n\t\t'click': (event: Event) => {\n\t\t\tconsole.log('CLICK', event);\n\t\t}\n\t};\n\t#innerContent = ((): HTMLElement => {\n\t\tconst innerContent = document.createElement('div');\n\t\tinnerContent.setAttribute('data-view-content', '');\n\t\treturn innerContent;\n\t})();\n\t#isObservingMutation = false;\n\t#mutationObserver = ((): MutationObserver => {\n\t\treturn new MutationObserver((mutationsList: MutationRecord[]) => {\n\t\t\tthis.#render();\n\t\t});\n\t})();\n\t#queryString: string | null = null;\n\n\t// METHOD(S)\n\n\t#mutationObserverDisconnect(): void {\n\t\tthis.#mutationObserver.disconnect();\n\t\tthis.#isObservingMutation = false;\n\t}\n\n\t#mutationObserverObserve(): void {\n\t\tthis.#mutationObserver.observe(this, { childList: true });\n\t\tthis.#isObservingMutation = true;\n\t}\n\n\t#render(): void {\n\t\tthis.#withMutationObservationSuspended(() => {\n\t\t\tthis.#innerContent.replaceChildren(templateEl.content.cloneNode(true));\n\t\t\tthis.#renderQueryString();\n\t\t\tthis.replaceChildren(this.#innerContent!);\n\t\t});\n\t}\n\n\t#renderQueryString(): void {\n\t\tthis.#withMutationObservationSuspended(() => {\n\t\t\tfor (const link of Array.from(this.#innerContent.querySelectorAll('a'))) {\n\t\t\t\tconst [base] = link.href.split('?');\n\t\t\t\tlink.href = this.#queryString === null ? base : `${base}?${this.#queryString}`\n\t\t\t}\n\t\t});\n\t}\n\n\t#withMutationObservationSuspended(render: () => void): void {\n\t\tconst wasMutationObserverObserving = this.#isObservingMutation;\n\t\tif (wasMutationObserverObserving) {\n\t\t\tthis.#mutationObserverDisconnect()\n\t\t}\n\t\ttry {\n\t\t\trender();\n\t\t} finally {\n\t\t\tif (wasMutationObserverObserving) {\n\t\t\t\tthis.#mutationObserverObserve();\n\t\t\t}\n\t\t}\n\t}\n\n\t// -- PROTECTED --\n\n\t// -- PUBLIC --\n\n\t// GETTER(S) & SETTER(S)\n\n\tget queryString(): string | null {\n\t\treturn this.#queryString;\n\t}\n\n\tset queryString(newValue: string | null) {\n\t\tconst oldValue = this.#queryString;\n\t\tif (oldValue === newValue) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#queryString = newValue;\n\n\t\tthis.#renderQueryString();\n\n\t\tthis.dispatchEvent(new CustomEvent('propertychange', {\n\t\t\tdetail: { property: 'quryString', oldValue, newValue },\n\t\t\tbubbles: true,\n\t\t\tcomposed: true\n\t\t}));\n\t}\n\n\t// METHOD(S)\n\n\t// -- LIFE CYCLE --\n\n\tconnectedCallback(): void {\n\t\tthis.#render();\n\n\t\tif (this.#eventListeners !== undefined) {\n\t\t\tfor (const event in this.#eventListeners) {\n\t\t\t\tthis.addEventListener(event, this.#eventListeners[event]);\n\t\t\t}\n\t\t}\n\n\t\tthis.#mutationObserverObserve();\n\t}\n\n\tdisconnectedCallback(): void {\n\t\tif (this.#eventListeners !== undefined) {\n\t\t\tfor (const event in this.#eventListeners) {\n\t\t\t\tthis.removeEventListener(event, this.#eventListeners[event]);\n\t\t\t}\n\t\t}\n\n\t\tthis.#mutationObserverDisconnect();\n\t}\n\n\tattributeChangedCallback(name: string, oldValue: null | string, newValue: null | string): void {\n\t\tswitch (name) {\n\t\t\tcase 'querystring':\n\t\t\t\tthis.queryString = newValue;\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\n// == DEFINE ==\n\ncustomElements.define('nav-view', NavView);\n"],"names":[],"version":3,"file":"parcel.6e2dd0cb.js.map"}