{"mappings":"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","sources":["src/parcel/index.ts","src/lib/index.ts","src/lib/match-route.ts","src/web/router.ts","src/parcel/home-view.ts","src/web/view-manager.ts","src/lib/event-manager.ts","src/parcel/nav-view.ts","src/parcel/not-found-view.ts","src/parcel/page-controller.ts","src/parcel/page-view.ts","src/parcel/page-model.ts"],"sourcesContent":["import lib from '../lib/index.js';\nimport matchRoute, { MatchRouteResult } from '../lib/match-route.js';\n\nimport Router from '../web/router.js';\n\nimport './home-view.js';\nimport './nav-view.js';\nimport './not-found-view.js';\nimport pageController from './page-controller.js';\nimport './page-view.js';\nimport PageModel from './page-model.js';\n\nconst HOME_HASH = '#/';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tlib('PARCEL');\n\n\tconst container = document.getElementById('app');\n\n\tlet lastHash: string | null = null;\n\tlet unbind: (() => void) | null = null;\n\n\tRouter.route = function (data: any, event?: PopStateEvent): any {\n\t\tconst hash = window.location.hash;\n\t\tif (lastHash === hash) {\n\t\t\treturn;\n\t\t}\n\n\t\t// NO HASH CHECK\n\t\tif (hash[0] !== '#') {\n\t\t\treturn void Router.replaceState(null, HOME_HASH);\n\t\t}\n\n\t\t// BOOKMARK CHECK\n\t\tif (hash[1] !== '/') {\n\t\t\tif (lastHash === null) {\n\t\t\t\treturn void Router.pushState(null, HOME_HASH);\n\t\t\t}\n\t\t\treturn void Router.replaceState(null, lastHash, false);\n\t\t}\n\n\t\tlastHash = hash;\n\n\t\tlet match: MatchRouteResult = null;\n\t\tswitch (true) {\n\t\t\tcase (match = matchRoute('#/', hash)) !== null:\n\t\t\t\tunbind?.();\n\t\t\t\tcontainer?.replaceChildren(document.createElement('home-view'));\n\t\t\t\tbreak;\n\n\t\t\tcase (match = matchRoute('#/page/**/:subpage/', hash) ?? matchRoute('#/page/', hash)) !== null:\n\t\t\t\tconst routeMatch: MatchRouteResult = match as MatchRouteResult;\n\t\t\t\tunbind?.();\n\t\t\t\tconst view = document.createElement('page-view');\n\t\t\t\tunbind = pageController(view, new PageModel({ subTitle: routeMatch!.data.subpage ?? null }));\n\t\t\t\tcontainer?.replaceChildren(view);\n\t\t\t\tbreak;\n\n\t\t\tcase (match = matchRoute('#/redirect/', hash)) !== null:\n\t\t\t\tRouter.replaceState(null, '#/page/redirect/redirectpage/');\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tunbind?.();\n\t\t\t\tcontainer?.replaceChildren(document.createElement('not-found-view'));\n\t\t}\n\t}\n\n\tRouter.start();\n});\n","export default function lib(message: string) {\n\tconsole.log(message);\n}\n\nlib('LIB');\n","export type MatchRouteResult = { data: Record<string, string>, query: string } | null;\n\nexport default function matchRoute(pattern: string, fullPath: string): MatchRouteResult {\n\tconst patternSegments = pattern.split('/');\n\n\tconst [path, query] = fullPath.split('?');\n\tconst pathSegments = path.split('/');\n\n\tconst match = matchSegments(patternSegments, pathSegments, false);\n\tif (match === null) {\n\t\treturn null;\n\t}\n\n\tconst { firstMatch } = match;\n\tif (firstMatch.index !== 0 || firstMatch.length !== pathSegments.length) {\n\t\treturn null;\n\t}\n\n\tconst { data } = firstMatch;\n\treturn { data, query };\n}\n\ninterface SegmentMatch {\n\tindex: number,\n\tlength: number,\n\tdata: Record<string, string>\n}\n\nfunction matchSegments(patternSegments: string[], pathSegments: string[], greedy = true): { firstMatch: SegmentMatch, lastMatch: SegmentMatch } | null {\n\tif (patternSegments.length === 0) {\n\t\tif (pathSegments.length === 0) {\n\t\t\treturn {\n\t\t\t\tfirstMatch: { index: 0, length: 0, data: {} },\n\t\t\t\tlastMatch: { index: 0, length: 0, data: {} },\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tconst patternSegment = patternSegments[0];\n\tconst remainingPatternSegments = patternSegments.slice(1);\n\n\tconst firstMatch: SegmentMatch = { index: -1, length: 0, data: {} };\n\tconst lastMatch: SegmentMatch = { index: -1, length: 0, data: {} };\n\n\tfor (let index = 0, length = pathSegments.length; index < length; index++) {\n\t\tconst pathSegment = pathSegments[index];\n\n\t\tif (patternSegment !== '**' && patternSegment !== '*' && patternSegment[0] !== ':' && patternSegment !== pathSegment) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (patternSegment === '**') {\n\t\t\tconst remainingPathSegments = pathSegments.slice(index);\n\t\t\tconst match = matchSegments(remainingPatternSegments, remainingPathSegments);\n\t\t\tif (match === null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlastMatch.index = index;\n\t\t\tlastMatch.length = match.lastMatch.length + match.lastMatch.index;\n\t\t\tlastMatch.data = match.lastMatch.data;\n\n\t\t\tif (firstMatch.index === -1) {\n\t\t\t\tfirstMatch.index = index;\n\t\t\t\tfirstMatch.length = match.lastMatch.length + match.lastMatch.index;\n\t\t\t\tfirstMatch.data = match.lastMatch.data;\n\n\t\t\t\tif (!greedy) {\n\t\t\t\t\treturn { firstMatch, lastMatch };\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst remainingPathSegments = pathSegments.slice(index + 1);\n\t\tconst match = matchSegments(remainingPatternSegments, remainingPathSegments, false);\n\t\tif (match === null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (match.firstMatch.index !== 0) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst data: Record<string, string> = {};\n\t\tif (patternSegment[0] === ':') {\n\t\t\tconst key = patternSegment.slice(1);\n\t\t\tdata[key] = pathSegment;\n\t\t}\n\n\t\tlastMatch.index = index;\n\t\tlastMatch.length = match.firstMatch.length + 1;\n\t\tlastMatch.data = { ...data, ...match.firstMatch.data };\n\n\t\tif (firstMatch.index === -1) {\n\t\t\tfirstMatch.index = index;\n\t\t\tfirstMatch.length = match.firstMatch.length + 1;\n\t\t\tfirstMatch.data = { ...data, ...match.firstMatch.data };\n\n\t\t\tif (!greedy) {\n\t\t\t\treturn { firstMatch, lastMatch };\n\t\t\t}\n\t\t}\n\t}\n\n\tif (firstMatch.index === -1) {\n\t\treturn null;\n\t}\n\n\treturn { firstMatch, lastMatch };\n}\n","function eventHandler(event: PopStateEvent): any {\n\treturn Router.route(null, event);\n}\n\nlet hasStarted = false;\n\nconst Router = {\n\troute(data: any, event?: PopStateEvent): any {\n\t\tthrow new Error('route requires implementation');\n\t},\n\n\tstart(trigger = true) {\n\t\twindow.addEventListener('popstate', eventHandler);\n\t\thasStarted = true;\n\n\t\tif (trigger) {\n\t\t\tthis.route(null);\n\t\t}\n\t},\n\n\tpushState(data: any, url?: string | URL | null, trigger = true): void {\n\t\tif (!hasStarted) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.history.pushState(data, '', url);\n\n\t\tif (trigger) {\n\t\t\tthis.route(data);\n\t\t}\n\t},\n\n\treplaceState(data: any, url?: string | URL | null, trigger = true): void {\n\t\tif (!hasStarted) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.history.replaceState(data, '', url);\n\n\t\tif (trigger) {\n\t\t\tthis.route(data);\n\t\t}\n\t},\n\n\tstop() {\n\t\tif (!hasStarted) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.removeEventListener('popstate', eventHandler);\n\t\thasStarted = false;\n\t},\n};\n\nexport default Router;\n","import { ViewManager } from '../web/view-manager.js';\n\n// == TEMPLATE ==\n\nconst templateEl: HTMLTemplateElement = document.createElement('template');\ntemplateEl.innerHTML = `\n\t<h1>Home</h1>\n\t<p>Welcome to the home page!</p>\n`;\n\n// == CLASS(ES) ==\n\nclass HomeView extends HTMLElement {\n\n\t// -- STATIC --\n\n\t// -- PRIVATE --\n\n\t// PROPERTY(IES)\n\n\t#innerContent: HTMLElement;\n\t#viewManager: ViewManager;\n\n\t// METHOD(S)\n\n\t#render(): void {\n\t\tthis.#viewManager.withMutationObserverSuspended(() => {\n\t\t\tthis.#innerContent.replaceChildren(templateEl.content.cloneNode(true));\n\t\t\tthis.replaceChildren(this.#innerContent!);\n\t\t});\n\t}\n\n\t// -- PROTECTED --\n\n\t// -- PUBLIC --\n\n\t// -- LIFE CYCLE --\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.#innerContent = ViewManager.makeInnerContent();\n\n\t\tconst mutationCallback = () => {\n\t\t\tthis.#render();\n\t\t};\n\t\tthis.#viewManager = new ViewManager(this, mutationCallback);\n\t}\n\n\tconnectedCallback(): void {\n\t\tthis.#render();\n\t\tthis.#viewManager.mutationObserverObserve();\n\t}\n\n\tdisconnectedCallback(): void {\n\t\tthis.#viewManager.mutationObserverDisconnect();\n\t}\n}\n\n// == DEFINE ==\n\ncustomElements.define('home-view', HomeView);\n","import { EventManager } from '../lib/event-manager.js';\n\n// == CLASS(ES) ==\n\nexport class ViewManager extends EventManager<HTMLElement> {\n\n\t// -- STATIC --\n\n\t// METHOD(S)\n\n\tstatic makeInnerContent(): HTMLElement {\n\t\tconst innerContent = document.createElement('div');\n\t\tinnerContent.setAttribute('data-inner-content', '');\n\t\treturn innerContent;\n\t}\n\n\t// -- PRIVATE --\n\n\t// PROPERTY(IES)\n\n\t#isObservingMutation = false;\n\t#mutationObserver: MutationObserver;\n\n\t// -- PROTECTED --\n\n\t// -- PUBLIC --\n\n\t// METHOD(S)\n\n\tmutationObserverDisconnect(): void {\n\t\tif (!this.#isObservingMutation) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#mutationObserver.disconnect();\n\t\tthis.#isObservingMutation = false;\n\t}\n\n\tmutationObserverObserve(): void {\n\t\tif (this.#isObservingMutation) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#mutationObserver.observe(this._eventTarget, { childList: true });\n\t\tthis.#isObservingMutation = true;\n\t}\n\n\twithMutationObserverSuspended(render: () => void): void {\n\t\tconst wasMutationObserverObserving = this.#isObservingMutation;\n\t\tif (wasMutationObserverObserving) {\n\t\t\tthis.mutationObserverDisconnect();\n\t\t}\n\t\ttry {\n\t\t\trender();\n\t\t} finally {\n\t\t\tif (wasMutationObserverObserving) {\n\t\t\t\tthis.mutationObserverObserve();\n\t\t\t}\n\t\t}\n\t}\n\n\t// -- LIFE CYCLE --\n\n\tconstructor(view: HTMLElement, mutationCallback: MutationCallback, eventListeners?: Record<string, EventListenerOrEventListenerObject>) {\n\t\tsuper(view, eventListeners);\n\n\t\tthis.#mutationObserver = new MutationObserver(mutationCallback);\n\t}\n}\n","// == CLASS(ES) ==\n\nexport class PropertyChangeDispatcher<T extends EventTarget> {\n\n\t// -- STATIC --\n\n\t// -- PRIVATE --\n\n\t// -- PROTECTED --\n\n\t// PROPERTY(IES)\n\n\tprotected _eventTarget: T;\n\n\t// -- PUBLIC --\n\n\t// METHOD(S)\n\n\tdispatchPropertChangeEvent(property: string, oldValue: any, newValue: any): void {\n\t\tthis._eventTarget.dispatchEvent(new CustomEvent('propertychange', {\n\t\t\tdetail: { property, oldValue, newValue },\n\t\t\tbubbles: true,\n\t\t\tcomposed: true\n\t\t}));\n\t}\n\n\t// -- LIFE CYCLE --\n\n\tconstructor(target: T, eventListeners: Record<string, EventListenerOrEventListenerObject> = {}) {\n\t\tthis._eventTarget = target;\n\t}\n\n}\n\nexport class EventManager<T extends EventTarget> extends PropertyChangeDispatcher<T> {\n\n\t// -- STATIC --\n\n\t// -- PRIVATE --\n\n\t// PROPERTY(IES)\n\n\t#eventListeners: Record<string, EventListenerOrEventListenerObject>;\n\n\t// -- PROTECTED --\n\n\t// -- PUBLIC --\n\n\t// METHOD(S)\n\n\teventListenersAdd(): void {\n\t\tfor (const event in this.#eventListeners) {\n\t\t\tthis._eventTarget.addEventListener(event, this.#eventListeners[event]);\n\t\t}\n\t}\n\n\teventListenersRemove(): void {\n\t\tfor (const event in this.#eventListeners) {\n\t\t\tthis._eventTarget.removeEventListener(event, this.#eventListeners[event]);\n\t\t}\n\t}\n\n\t// -- LIFE CYCLE --\n\n\tconstructor(target: T, eventListeners: Record<string, EventListenerOrEventListenerObject> = {}) {\n\t\tsuper(target);\n\n\t\tthis.#eventListeners = eventListeners;\n\t}\n}\n","import { ViewManager } from '../web/view-manager.js';\n\n// == TEMPLATE ==\n\nconst templateEl: HTMLTemplateElement = document.createElement('template');\ntemplateEl.innerHTML = `\n\t<p>\n\t\t<a class=\"btn btn-light\" href=\"#/\">Home</a>\n\t\t<a class=\"btn btn-light\" href=\"#/page/\">Page</a>\n\t\t<a class=\"btn btn-light\" href=\"#/page/subpage/\">Sub Page</a>\n\t\t<a class=\"btn btn-light\" href=\"#/redirect/\">Redirect</a>\n\t\t<a class=\"btn btn-light\" href=\"#/404/\">404</a>\n\t</p>\n`;\n\n// == CLASS(ES) ==\n\nclass NavView extends HTMLElement {\n\n\t// -- STATIC --\n\n\t// PROPERTY(IES)\n\n\tstatic observedAttributes: string[] = ['querystring'];\n\n\t// -- PRIVATE --\n\n\t// PROPERTY(IES)\n\n\t#hasRendered = false;\n\t#innerContent: HTMLElement;\n\t#queryString: string | null = null;\n\t#viewManager: ViewManager;\n\n\t// METHOD(S)\n\n\t#render(): void {\n\t\tthis.#viewManager.withMutationObserverSuspended(() => {\n\t\t\tthis.#innerContent.replaceChildren(templateEl.content.cloneNode(true));\n\t\t\tthis.#hasRendered = true;\n\t\t\tthis.#renderQueryString();\n\t\t\tthis.replaceChildren(this.#innerContent!);\n\t\t});\n\t}\n\n\t#renderQueryString(): void {\n\t\tif (!this.#hasRendered) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#viewManager.withMutationObserverSuspended(() => {\n\t\t\tfor (const link of Array.from(this.#innerContent.querySelectorAll('a'))) {\n\t\t\t\tconst [base] = link.href.split('?');\n\t\t\t\tlink.href = this.#queryString === null ? base : `${base}?${this.#queryString}`\n\t\t\t}\n\t\t});\n\t}\n\n\t// -- PROTECTED --\n\n\t// -- PUBLIC --\n\n\t// GETTER(S) & SETTER(S)\n\n\tget queryString(): string | null {\n\t\treturn this.#queryString;\n\t}\n\n\tset queryString(newValue: string | null) {\n\t\tconst oldValue = this.#queryString;\n\t\tif (oldValue === newValue) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#queryString = newValue;\n\t\tthis.#renderQueryString();\n\t\tthis.#viewManager.dispatchPropertChangeEvent('quryString', oldValue, newValue);\n\t}\n\n\t// METHOD(S)\n\n\t// -- LIFE CYCLE --\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.#innerContent = ViewManager.makeInnerContent();\n\n\t\tconst mutationCallback = () => {\n\t\t\tthis.#render();\n\t\t};\n\t\tconst eventListeners = {\n\t\t\t'click': (event: Event) => {\n\t\t\t\tconsole.log('CLICK', event);\n\t\t\t}\n\t\t};\n\t\tthis.#viewManager = new ViewManager(this, mutationCallback, eventListeners);\n\t}\n\n\tconnectedCallback(): void {\n\t\tthis.#render();\n\t\tthis.#viewManager.eventListenersAdd();\n\t\tthis.#viewManager.mutationObserverObserve();\n\t}\n\n\tdisconnectedCallback(): void {\n\t\tthis.#viewManager.eventListenersRemove();\n\t\tthis.#viewManager.mutationObserverDisconnect();\n\t}\n\n\tattributeChangedCallback(name: string, oldValue: null | string, newValue: null | string): void {\n\t\tswitch (name) {\n\t\t\tcase 'querystring':\n\t\t\t\tthis.queryString = newValue;\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\n// == DEFINE ==\n\ncustomElements.define('nav-view', NavView);\n","import { ViewManager } from '../web/view-manager.js';\n\n// == TEMPLATE ==\n\nconst templateEl: HTMLTemplateElement = document.createElement('template');\ntemplateEl.innerHTML = `\n\t<h1>Page Not Found (404 Error)</h1>\n\t<p>Oops! It looks like you've taken a wrong turn, or the page you're looking for doesn't exist anymore.</p>\n\t<p>We're sorry for the inconvenience.</p>\n`;\n\n// == CLASS(ES) ==\n\nclass NotFoundView extends HTMLElement {\n\n\t// -- STATIC --\n\n\t// -- PRIVATE --\n\n\t// PROPERTY(IES)\n\n\t#innerContent: HTMLElement;\n\t#viewManager: ViewManager;\n\n\t// METHOD(S)\n\n\t#render(): void {\n\t\tthis.#viewManager.withMutationObserverSuspended(() => {\n\t\t\tthis.#innerContent.replaceChildren(templateEl.content.cloneNode(true));\n\t\t\tthis.replaceChildren(this.#innerContent!);\n\t\t});\n\t}\n\n\t// -- PROTECTED --\n\n\t// -- PUBLIC --\n\n\t// -- LIFE CYCLE --\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.#innerContent = ViewManager.makeInnerContent();\n\n\t\tconst mutationCallback = () => {\n\t\t\tthis.#render();\n\t\t};\n\t\tthis.#viewManager = new ViewManager(this, mutationCallback);\n\t}\n\n\tconnectedCallback(): void {\n\t\tthis.#render();\n\t\tthis.#viewManager.mutationObserverObserve();\n\t}\n\n\tdisconnectedCallback(): void {\n\t\tthis.#viewManager.mutationObserverDisconnect();\n\t}\n}\n\n// == DEFINE ==\n\ncustomElements.define('not-found-view', NotFoundView);\n","import PageModel from './page-model.js';\nimport PageView from './page-view.js';\n\nexport default function pageController(view: HTMLElement, model: PageModel): () => void {\n\tif (!(view instanceof PageView)) {\n\t\tthrow new Error('Invalid view type')\n\t}\n\n\tconst viewPropertyChangeListener = (event: Event) => {\n\t\tif (\n\t\t\t!(event instanceof CustomEvent)\n\t\t\t|| event.detail.property !== 'subTitle'\n\t\t\t|| (typeof event.detail.newValue !== 'string' && event.detail.newValue !== null)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tmodel.subTitle = event.detail.newValue;\n\t};\n\tview.addEventListener('propertychange', viewPropertyChangeListener);\n\n\tconst modelPropertyChangeListener = (event: Event) => {\n\t\tif (\n\t\t\t!(event instanceof CustomEvent)\n\t\t\t|| event.detail.property !== 'subTitle'\n\t\t\t|| (typeof event.detail.newValue !== 'string' && event.detail.newValue !== null)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tview.subTitle = event.detail.newValue;\n\t};\n\tmodel.addEventListener('propertychange', modelPropertyChangeListener);\n\n\tview.subTitle = model.subTitle;\n\n\treturn function unbind() {\n\t\tview.addEventListener('propertychange', viewPropertyChangeListener);\n\t\tmodel.addEventListener('propertychange', modelPropertyChangeListener);\n\t}\n}\n","import { ViewManager } from '../web/view-manager.js';\n\n// == TEMPLATE ==\n\nconst templateEl: HTMLTemplateElement = document.createElement('template');\ntemplateEl.innerHTML = `\n\t<h1>Page</h1>\n\t<div data-sub-title></div>\n\t<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque fugiat blanditiis commodi ab delectus sit eius quod iste eum nostrum, officia deserunt nesciunt praesentium voluptatem porro cum nam libero quo!</p>\n`;\n\n// == CLASS(ES) ==\n\nexport default class PageView extends HTMLElement {\n\n\t// -- STATIC --\n\n\t// PROPERTY(IES)\n\n\tstatic observedAttributes: string[] = ['subtitle'];\n\n\t// -- PRIVATE --\n\n\t// PROPERTY(IES)\n\n\t#hasRendered = false;\n\t#innerContent: HTMLElement;\n\t#subTitle: string | null = null;\n\t#viewManager: ViewManager;\n\n\t// METHOD(S)\n\n\t#render(): void {\n\t\tthis.#viewManager.withMutationObserverSuspended(() => {\n\t\t\tthis.#innerContent.replaceChildren(templateEl.content.cloneNode(true));\n\t\t\tthis.#hasRendered = true;\n\t\t\tthis.#renderSubString();\n\t\t\tthis.replaceChildren(this.#innerContent!);\n\t\t});\n\t}\n\n\t#renderSubString(): void {\n\t\tif (!this.#hasRendered) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#viewManager.withMutationObserverSuspended(() => {\n\t\t\tthis.#innerContent.querySelector('[data-sub-title]')!.innerHTML = this.#subTitle === null\n\t\t\t\t? ''\n\t\t\t\t: `<h2 class=\"h5\">${this.#subTitle}</h2>`;\n\t\t});\n\t}\n\n\t// -- PROTECTED --\n\n\t// -- PUBLIC --\n\n\t// GETTER(S) & SETTER(S)\n\n\tget subTitle(): string | null {\n\t\treturn this.#subTitle;\n\t}\n\n\tset subTitle(newValue: string | null) {\n\t\tconst oldValue = this.#subTitle;\n\t\tif (oldValue === newValue) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#subTitle = newValue;\n\t\tthis.#renderSubString();\n\t\tthis.#viewManager.dispatchPropertChangeEvent('subTitle', oldValue, newValue);\n\t}\n\n\t// -- LIFE CYCLE --\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.#innerContent = ViewManager.makeInnerContent();\n\n\t\tconst mutationCallback = () => {\n\t\t\tthis.#render();\n\t\t};\n\t\tthis.#viewManager = new ViewManager(this, mutationCallback);\n\t}\n\n\tconnectedCallback(): void {\n\t\tthis.#render();\n\t\tthis.#viewManager.mutationObserverObserve();\n\t}\n\n\tdisconnectedCallback(): void {\n\t\tthis.#viewManager.mutationObserverDisconnect();\n\t}\n\n\tattributeChangedCallback(name: string, oldValue: null | string, newValue: null | string): void {\n\t\tswitch (name) {\n\t\t\tcase 'subtitle':\n\t\t\t\tthis.subTitle = newValue;\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\n// == DEFINE ==\n\ncustomElements.define('page-view', PageView);\n","import { PropertyChangeDispatcher } from '../lib/event-manager.js';\n\n// == CLASS(ES) ==\n\nexport default class PageModel extends EventTarget {\n\n\t// -- STATIC --\n\n\t// -- PRIVATE --\n\n\t// PROPERTY(IES)\n\n\t#propertyChangeDispatcher: PropertyChangeDispatcher<EventTarget>;\n\t#subTitle: string | null = null;\n\n\t// -- PROTECTED --\n\n\t// -- PUBLIC --\n\n\t// GETTER(S) & SETTER(S)\n\n\tget subTitle(): string | null {\n\t\treturn this.#subTitle;\n\t}\n\n\tset subTitle(newValue: string | null) {\n\t\tconst oldValue = this.#subTitle;\n\t\tif (oldValue === newValue) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#subTitle = newValue;\n\t\tthis.#propertyChangeDispatcher.dispatchPropertChangeEvent('subTitle', oldValue, newValue);\n\t}\n\n\t// -- LIFE CYCLE --\n\n\tconstructor(data: { subTitle: string | null } = { subTitle: null }) {\n\t\tsuper();\n\n\t\tthis.#propertyChangeDispatcher = new PropertyChangeDispatcher(this);\n\n\t\tconst { subTitle } = data;\n\t\tthis.subTitle = subTitle;\n\t}\n}\n"],"names":[],"version":3,"file":"parcel.0a50e38f.js.map"}